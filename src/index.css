@import url('https://fonts.googleapis.com/css2?family=Inter:wght@400;600&display=swap');

@tailwind base;
@tailwind components;
@tailwind utilities;

/* VFX Pipeline Blueprint - Infra-Deck Design System */
/* All colors in HSL */

@layer base {
  :root {
    /* Core backgrounds - Chronicle dark #1a1a1a */
    --background: 0 0% 10%;
    --foreground: 0 0% 100%;
    
    /* Card/Surface */
    --card: 0 0% 13%;
    --card-foreground: 0 0% 100%;
    --card-border: 0 0% 20%;
    
    /* Popover */
    --popover: 0 0% 12%;
    --popover-foreground: 0 0% 100%;
    
    /* Primary - White for emphasis */
    --primary: 0 0% 100%;
    --primary-foreground: 0 0% 10%;
    
    /* Secondary - Muted gray */
    --secondary: 0 0% 45%;
    --secondary-foreground: 0 0% 100%;
    
    /* Muted */
    --muted: 0 0% 18%;
    --muted-foreground: 0 0% 55%;
    
    /* Accent - Teal highlight for special elements */
    --accent: 186 100% 42%;
    --accent-foreground: 0 0% 10%;
    
    /* Destructive */
    --destructive: 0 84% 60%;
    --destructive-foreground: 0 0% 100%;
    
    /* Borders and inputs */
    --border: 0 0% 22%;
    --input: 0 0% 22%;
    --ring: 0 0% 100%;
    
    --radius: 0.5rem;
    
    /* Chart colors */
    --chart-planning: 199 89% 60%;
    --chart-execution: 142 71% 45%;
    --chart-support: 25 95% 53%;
    --chart-maintenance: 280 65% 60%;
    
    /* Sidebar */
    --sidebar-background: 0 0% 10%;
    --sidebar-foreground: 0 0% 100%;
    --sidebar-primary: 0 0% 100%;
    --sidebar-primary-foreground: 0 0% 10%;
    --sidebar-accent: 0 0% 18%;
    --sidebar-accent-foreground: 0 0% 100%;
    --sidebar-border: 0 0% 22%;
    --sidebar-ring: 0 0% 100%;
  }

  .dark {
    --background: 0 0% 10%;
    --foreground: 0 0% 100%;
    --card: 0 0% 13%;
    --card-foreground: 0 0% 100%;
    --popover: 0 0% 12%;
    --popover-foreground: 0 0% 100%;
    --primary: 0 0% 100%;
    --primary-foreground: 0 0% 10%;
    --secondary: 0 0% 45%;
    --secondary-foreground: 0 0% 100%;
    --muted: 0 0% 18%;
    --muted-foreground: 0 0% 55%;
    --accent: 186 100% 42%;
    --accent-foreground: 0 0% 10%;
    --destructive: 0 62% 30%;
    --destructive-foreground: 0 0% 100%;
    --border: 0 0% 22%;
    --input: 0 0% 22%;
    --ring: 0 0% 100%;
  }
}

@layer base {
  * {
    @apply border-border;
  }

  html {
    /* Native smooth scrolling */
    scroll-behavior: smooth;
    /* Allows scrollIntoView to account for the fixed top nav */
    scroll-padding-top: 5rem;
  }

  body {
    @apply bg-background text-foreground font-sans antialiased;
    font-family: 'Inter', system-ui, -apple-system, sans-serif;
    background-color: #0e100f;
    overscroll-behavior: none;
    margin: 0;
    padding: 0;
    overflow-x: hidden;
  }
}

/* Main panels container */
.panels-container {
  position: relative;
  width: 100%;
  min-height: 100vh;
  padding-top: 0; /* Navbar is fixed, doesn't affect flow */
}

/* Navbar - ensure it's on top and isolated */
.main-tool-bar {
  position: fixed !important;
  top: 0;
  left: 0;
  right: 0;
  z-index: 9999 !important; /* Above everything */
  will-change: transform;
}

/* Section base styles - 1080p minimum height with centered content */
.slide-section {
  width: 100%;
  position: relative;
  min-height: 1080px; /* Full HD minimum height */
  display: flex;
  flex-direction: column;
  justify-content: center; /* Center content vertically when shorter than 1080px */
  align-items: stretch; /* Stretch to full width */
  padding-top: 5rem; /* Space for fixed navbar */
  padding-bottom: 5rem; /* Bottom padding for spacing */
  /* Solid backgrounds applied via ID selectors below */
}

/* Title section - special styling */
#title {
  padding-top: 0 !important; /* No top padding for title */
  min-height: 1080px; /* Same 1080p minimum */
  display: flex;
  flex-direction: column;
  align-items: center;
  justify-content: center;
  background-color: #0e100f;
}

/* Alternating solid colored and dark backgrounds for all sections after title */
/* Pattern: colored, dark, colored, dark, etc. */
/* Dark background: #0e100f (matching title background) */

/* GRADIENT BACKGROUNDS FOR SECTIONS */
/* Using CSS equivalents of SVG linear gradients */

/* Structure (1st after title) - Pink to Blue gradient */
#structure {
  background: linear-gradient(135deg, #fec5fb 20%, #00bae2 80%);
}

/* Roles (2nd) - dark */
#roles {
  background-color: #0e100f;
}

/* Responsibility/Matrix (3rd) - Light Pink to Purple gradient */
#responsibility {
  background: linear-gradient(135deg, #ffd3fd 27%, #806eff 84%);
}

/* Pipeline (4th) - dark */
#pipeline {
  background-color: #0e100f;
}

/* USD (5th) - Pink to Blue gradient (alternate angle) */
#usd {
  background: linear-gradient(200deg, #fec5fb 27%, #00bae2 84%);
}

/* Assets (6th) - dark */
#assets {
  background-color: #0e100f;
}

/* ACES (7th) - Orange to Pink gradient */
#aces {
  background: linear-gradient(135deg, rgb(255, 135, 9) 20%, rgb(247, 189, 248) 70%);
}

/* REZ (8th) - dark */
#rez {
  background-color: #0e100f;
}

/* Render (9th) - Orange to Pink gradient (reverse) */
#render {
  background: linear-gradient(315deg, rgb(255, 135, 9) 20%, rgb(247, 189, 248) 70%);
}

/* AI (10th) - dark */
#ai {
  background-color: #0e100f;
}

/* Timeline (11th) - Pink to Blue gradient (diagonal) */
#timeline {
  background: linear-gradient(160deg, #fec5fb 20%, #00bae2 80%);
}

/* NOISE TEXTURE OVERLAY FOR COLORED SECTIONS */
/* Adds subtle texture using noise.webp with color-dodge blend mode */

#structure,
#responsibility,
#usd,
#aces,
#render,
#timeline {
  position: relative;
  overflow: hidden;
}

#structure::after,
#responsibility::after,
#usd::after,
#aces::after,
#render::after,
#timeline::after {
  content: '';
  position: absolute;
  top: 0;
  left: 0;
  width: 100%;
  height: 100%;
  background-blend-mode: color-dodge;
  background-image: url('/src/assets/noise.webp');
  background-repeat: repeat;
  background-size: 200px 200px;
  pointer-events: none; /* Allow clicks through the overlay */
  z-index: 1;
  opacity: 0.8; /* Increased from 0.5 for stronger effect */
}

/* Ensure content is above the noise overlay */
#structure .slide-content,
#responsibility .slide-content,
#usd .slide-content,
#aces .slide-content,
#render .slide-content,
#timeline .slide-content {
  position: relative;
  z-index: 2;
}

/* TEXT COLOR RULES FOR DARK VS COLORED BACKGROUNDS */
/* Apply dark text on colored sections for readability */

/* Dark sections - use gradient text for headings */
#title h1, #title h2, #title h3,
#roles h1, #roles h2, #roles h3,
#pipeline h1, #pipeline h2, #pipeline h3,
#assets h1, #assets h2, #assets h3,
#rez h1, #rez h2, #rez h3,
#ai h1, #ai h2, #ai h3 {
  background: linear-gradient(135deg, #fec5fb 20%, #00bae2 80%);
  -webkit-background-clip: text;
  -webkit-text-fill-color: transparent;
  background-clip: text;
}

#title h4, #title h5, #title h6,
#roles h4, #roles h5, #roles h6,
#pipeline h4, #pipeline h5, #pipeline h6,
#assets h4, #assets h5, #assets h6,
#rez h4, #rez h5, #rez h6,
#ai h4, #ai h5, #ai h6 {
  color: hsl(var(--text-on-dark-subheading));
}

#title p, #title li,
#roles p, #roles li,
#pipeline p, #pipeline li,
#assets p, #assets li,
#rez p, #rez li,
#ai p, #ai li {
  color: hsl(var(--text-on-dark-paragraph));
}

#title a,
#roles a,
#pipeline a,
#assets a,
#rez a,
#ai a {
  color: hsl(var(--text-on-dark-link));
}

/* Colored sections - use dark text (almost black for readability) */
#structure h1, #structure h2, #structure h3,
#responsibility h1, #responsibility h2, #responsibility h3,
#usd h1, #usd h2, #usd h3,
#aces h1, #aces h2, #aces h3,
#render h1, #render h2, #render h3,
#timeline h1, #timeline h2, #timeline h3 {
  color: #0e100f !important; /* Dark background color - fallback */
  color: hsl(var(--text-on-colored-heading, 0 0% 6%)) !important;
}

#structure h4, #structure h5, #structure h6,
#responsibility h4, #responsibility h5, #responsibility h6,
#usd h4, #usd h5, #usd h6,
#aces h4, #aces h5, #aces h6,
#render h4, #render h5, #render h6,
#timeline h4, #timeline h5, #timeline h6 {
  color: #1e1e1e !important; /* Dark gray - fallback */
  color: hsl(var(--text-on-colored-subheading, 0 0% 12%));
}

#structure p, #structure li, #structure span,
#responsibility p, #responsibility li, #responsibility span,
#usd p, #usd li, #usd span,
#aces p, #aces li, #aces span,
#render p, #render li, #render span,
#timeline p, #timeline li, #timeline span {
  color: #191919 !important; /* Near black - fallback */
  color: hsl(var(--text-on-colored-paragraph, 0 0% 10%)) !important;
}

#structure a,
#responsibility a,
#usd a,
#aces a,
#render a,
#timeline a {
  color: #0e100f !important; /* Dark - fallback */
  color: hsl(var(--text-on-colored-link, 0 0% 6%));
  text-decoration: underline;
}

/* Removed panel styling - using natural scroll now */

@layer components {
  /* Slide section base - minimal styles, main styles defined above */
  .slide-content {
    @apply max-w-[1200px] mx-auto w-full;
    /* Content will be centered within the section */
    flex: 0 0 auto; /* Don't grow/shrink, use natural size */
  }
  
  /* Chronicle-style card with left border */
  .deck-card {
    @apply bg-transparent border-l-2 border-border pl-6 py-2;
  }
  
  /* Filled card style */
  .deck-card-filled {
    @apply bg-card rounded-xl p-6 border border-border;
  }
  
  /* Table styles - Chronicle clean style */
  .deck-table {
    @apply w-full border-collapse bg-card/50 rounded-lg overflow-hidden;
  }
  
  .deck-table th {
    @apply text-left py-4 px-5 text-sm font-medium text-accent bg-muted/30;
  }
  
  .deck-table td {
    @apply py-4 px-5 text-sm text-muted-foreground border-t border-border/30;
  }
  
  .deck-table tr:hover td {
    @apply bg-muted/10;
  }
  
  /* Navigation */
  .nav-link {
    @apply text-sm text-muted-foreground hover:text-foreground transition-colors duration-200;
  }
  
  .nav-link-active {
    @apply text-foreground;
  }
  
  /* Chronicle highlight text */
  .text-highlight {
    @apply text-foreground;
  }
  
  .text-dim {
    @apply text-muted-foreground;
  }
}

@layer utilities {
  /* Animation utilities */
  .animate-fade-up {
    animation: fadeUp 0.6s ease-out forwards;
    opacity: 0;
  }
  
  .animation-delay-100 {
    animation-delay: 100ms;
  }
  
  .animation-delay-200 {
    animation-delay: 200ms;
  }
  
  .animation-delay-300 {
    animation-delay: 300ms;
  }
  
  .animation-delay-400 {
    animation-delay: 400ms;
  }
  
  .animation-delay-500 {
    animation-delay: 500ms;
  }
}

@keyframes fadeUp {
  from {
    opacity: 0;
    transform: translateY(20px);
  }
  to {
    opacity: 1;
    transform: translateY(0);
  }
}
